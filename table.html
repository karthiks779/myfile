<!DOCTYPE html>
<html>



<body>
    

    
    


    
        
        <p id="collectedData" >       </p>


    
messagesRef.remove()
    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
   <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCx2K_Ji0mRflPnbxmqbVWv24O_sueerAg",
            authDomain: "kk44-81f8e.firebaseapp.com",
            databaseURL: "https://kk44-81f8e-default-rtdb.firebaseio.com",
            projectId: "kk44-81f8e",
            storageBucket: "kk44-81f8e.appspot.com",
            messagingSenderId: "720386428137",
            appId: "1:720386428137:web:946d8d62172c02557a3478",
            measurementId: "G-WZY3Q18VFX"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Reference to messages collection
        let messagesRef = firebase.database().ref('New55');

        // Global array to hold messages
        let messageArray = [];

        // Form submission
             
            

            // Get values
            
            let email="45";
    let name=Date();
            // Save message
            saveMessage(name, email);
            
        


        
        // Save message to Firebase
        function saveMessage(name, email) {
            let newMessageRef = messagesRef.push();
            newMessageRef.set({
                name: name,
                email: email,
            }).then(() => {
                // Add the new message to the array
                messageArray.push({ name, email });
                // Call the function to display data after saving
                
            });
        }

        // Function to retrieve and display data
          l=[];
        function displayMessages() {
            // Clear the displayed data first
           // document.getElementById('collectedData').innerHTML = '';

            // Iterate through the messageArray to display each message
            
            // Display the messageArray in a formatted way
          
            l=messageArray.map(msg => ` ${msg.name}`);
         
        
     document.getElementById("collectedData").innerHTML =l; 
}
        // Call to fetch existing messages from Firebase and populate the array
        messagesRef.once('value', (snapshot) => {
            snapshot.forEach(childSnapshot => {
                let message = childSnapshot.val();
                messageArray.push(message);
            });
            // Display existing messages
            displayMessages();
        });
    </script>
</body>

</html>
